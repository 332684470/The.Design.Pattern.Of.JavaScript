# 第3节-闭包和高阶函数

## 闭包
闭包是JS的一个很重要的特性,想了解闭包
首先得清楚闭包的形成与变量的作用域和变量的生存周期密切相关

## 变量的作用域(var let const)
### 老旧的var
```Javascript
// 在一些编写时间较早的JS代码中,我们经常能看到var关键字
// 作为早期使用的关键字,var不同于现在使用的let const关键字具有块作用域
// var声明的变量的作用域是函数作用域
// 即当变量是由var声明且在函数内部声明
// 该变量就只能在函数内部访问到,外部无法访问
function fn(){
    var a=1;
    console.log(a);
}
fn();//1
console.log(a);//Uncaught ReferenceError: a is not defined

----------------------------------------------------
var b=2;
function fn(){
    var a=1;
    var b=3;
    console.log(a);
    console.log(b);
}
fn();//1 3
console.log(b);//2
console.log(a);//Uncaught ReferenceError: a is not defined
// 由上我们可以得出,函数作用域内部的变量,外部是无法访问到的
// 而函数内部却可以访问外部的变量,但是在变量搜索时,依然是沿着作用域链从内向外搜索,直到搜索到全局为止
```
var与立即执行函数IIFE
```JavaScript
// 在没有let和const关键字的年代,使用立即执行函数可以模拟块作用域
(function (){
    var a=1;
    console.log(a);
})();//1
console.log(a);//a is not defined
```
### let与const
作为后加入的关键字,let和const具有块作用域
```javascript
{
    let a=1;
    console.log(a);//1
}
{
    let b=2;
    console.log(b);//2
}
{
    const c=3;
    console.log(c);//3
}
console.log(a);//a is not defined
console.log(b);//b is not defined
console.log(c);//c is not defined
```



